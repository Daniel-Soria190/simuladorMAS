/* autogenerated by Processing revision 1293 on 2023-09-25 */
import processing.core.*;
import processing.data.*;
import processing.event.*;
import processing.opengl.*;

import java.util.HashMap;
import java.util.ArrayList;
import java.io.File;
import java.io.BufferedReader;
import java.io.PrintWriter;
import java.io.InputStream;
import java.io.OutputStream;
import java.io.IOException;

public class proyecto extends PApplet {

// Variables
// vectores de datos importados
float[] x, velocidad, aceleracion, fuerza, labx, laby, ejex, ejey; ////
// magnitudes exportadas
float distancia, amplitud, masa, carga, ancho, alto;




int frame = 0; //<>//

public void cargaDatos(){
    String[] renglones = loadStrings("datos.csv");
    int numDatos = renglones.length;
    x = new float[numDatos]; //<>//
    velocidad = new float[numDatos]; //<>//
    aceleracion = new float[numDatos]; //<>//
    fuerza = new float[numDatos]; //<>//
    //cargar los datos
    for (int i = 0; i < numDatos; ++i) {
        String[] dato = split(renglones[i], ',');
        x[i] = PApplet.parseFloat(dato[0]);
        velocidad[i] = PApplet.parseFloat(dato[1]);
        aceleracion[i] = PApplet.parseFloat(dato[2]);
        fuerza[i] = PApplet.parseFloat(dato[3]);
    }
}

// float posX(float _x){
//     return(width/2 + 2*(width*_x));
// }

public float posX(float _x){
    return(((_x*width)/ancho)+(width/2));
}

public float posy(float _y){
    return(((_y*height)/alto)+(height/2));
}

public void calculaLabs(){
    float espx, espy;
    espx = amplitud/11;
    espy = distancia/11;
    for (int i = 0; i <= 10; ++i) {
        labx[i] = (-amplitud)+(espx*i);
        laby[i] = (-distancia/2)+(espy*i);
    }
}

public void dibujaEjes(){
    fill(0,0,0);
    float espx, espy;
    espx = width/10;
    espy = height/10;
    for (int i = 0; i <= 10; ++i) {
        line(i*espx, 0, i*espx, height);
        line(0, espy*i, width, espy*i);
    }
}


public void setup() {
    /* size commented out by preprocessor */;
    amplitud = 0.1f;
    distancia = 1 ;
    ancho = (2*amplitud);
    alto = (distancia);
    cargaDatos(); //<>//
    frameRate(120);
}

public void draw() {
    background(255, 255, 255); //<>//
    dibujaEjes();
    fill(0, 255, 255);
    if (frame >= x.length) {
        frame = 0;
    }
    circle(posX(x[frame]), posy(0), 15);
    fill(255,0,0);
    circle(posX(0), posy(-distancia/2),15);
    circle(posX(0), posy(distancia/2),15);
    frame ++;
}


  public void settings() { size(1024, 1024); }

  static public void main(String[] passedArgs) {
    String[] appletArgs = new String[] { "proyecto" };
    if (passedArgs != null) {
      PApplet.main(concat(appletArgs, passedArgs));
    } else {
      PApplet.main(appletArgs);
    }
  }
}
